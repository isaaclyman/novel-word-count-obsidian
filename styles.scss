.novel-word-count--active {
	// Mobile vault count
	.workspace-drawer-header-info div[data-novel-word-count-plugin]::after {
		content: attr(data-novel-word-count-plugin);
		display: block;
		font-size: 0.8em;
		min-width: 0;
		opacity: var(--novel-word-count-opacity);
		overflow: hidden;
		padding: 2px 0 0 0;
		position: relative;
		text-align: left;
		text-overflow: ellipsis;
		white-space: nowrap;
		width: 100%;
	}

	// Desktop vault count
	.nav-buttons-container[data-novel-word-count-plugin]::after {
		content: attr(data-novel-word-count-plugin);
		display: block;
		font-size: 0.8em;
		max-width: calc(100% - 20px);
		min-width: 0;
		opacity: var(--novel-word-count-opacity);
		overflow: hidden;
		padding: 0 4px;
		position: relative;
		text-align: center;
		text-overflow: ellipsis;
		white-space: nowrap;
		width: 100%;
	}

	.nav-files-container {
		.nav-file-title,
		.nav-folder-title {
			align-items: baseline;
			// Ensure proper text direction handling
			unicode-bidi: isolate;

			&::after {
				content: attr(data-novel-word-count-plugin);
				flex: 1 0 auto;
				font-size: 0.8em;
				max-width: calc(100% - 20px);
				min-width: 0;
				opacity: var(--novel-word-count-opacity);
				order: 1;
				overflow: hidden;
				padding: 0 4px;
				position: relative;
				text-overflow: ellipsis;
				white-space: nowrap;
				// Isolate the word count from RTL text influence
				unicode-bidi: isolate;
				direction: ltr;
			}

			&-content {
				min-width: 20px;
				// Isolate file name from word count
				unicode-bidi: isolate;
			}
		}
	}

	&.novel-word-count--note-right .nav-files-container .nav-file-title {
		&-content {
			flex: 1 1 0;
		}

		&:after {
			flex: none;
			order: 6;
			overflow: hidden;
		}
	}

	&.novel-word-count--note-below .nav-files-container .nav-file-title {
		flex-wrap: wrap;

		&-content {
			flex: 100%;
		}

		&::after {
			display: inline-block;
			margin-top: -2px;
			max-width: 100%;
			overflow: hidden;
			padding: 0;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}

	&.novel-word-count--folder-right .nav-files-container .nav-folder-title {
		&-content {
			flex: 1 1 0;
		}

		&::after {
			flex: none;
			order: 6;
			overflow: hidden;
		}
	}

	&.novel-word-count--folder-below .nav-files-container .nav-folder-title {
		flex-wrap: wrap;

		&-content {
			flex: 100%;
		}

		&::after {
			display: inline-block;
			margin-top: -2px;
			max-width: 100%;
			overflow: hidden;
			padding: 0;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}
}

.novel-word-count-settings-header {
	align-items: baseline;
}

.novel-word-count-donation-line {
	align-items: center;
	display: flex;
	flex-direction: row;
	justify-content: space-between;
}

.novel-word-count-hr {
	border-color: #ccc;
	margin: 1rem 0;
}
